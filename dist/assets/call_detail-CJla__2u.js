import{A as c}from"./constantes-B-0QMk3S.js";import{l as C}from"./load_navbar-D39noM3e.js";localStorage.getItem("token");JSON.parse(localStorage.getItem("user"));const h=new URLSearchParams(window.location.search),i=h.get("id"),n=document.getElementById("callerName"),a=document.getElementById("receiverName"),E=document.getElementById("startTime"),x=document.getElementById("finishTime"),_=document.getElementById("duration"),y=document.getElementById("status");C();async function D(l){try{const r=await(await fetch(`${c}/users`)).json(),s=await fetch(`${c}/videoCalls/${l}`);if(!s.ok)throw new Error("Error al obtener llamada");const t=await s.json(),m=r.find(e=>e.id==t.caller_id),u=r.find(e=>e.id==t.receiver_id),g=new Date(t.started_at),f=new Date(t.ended_at)-g,d=Math.floor(f/1e3),I=Math.floor(d/60),w=d%60;t.duration=`${I}m ${w}s`,n.textContent=`${m.username}`,a.textContent=`${u.username}`,E.textContent=new Date(t.started_at).toLocaleString(),x.textContent=new Date(t.ended_at).toLocaleString(),_.textContent=t.duration||"-",y.textContent=t.status||"-"}catch(o){console.error("Error al obtener detalles de llamada:",o),n.textContent="Error",a.textContent="Error"}}i?D(i):(n.textContent="Missing ID",a.textContent="Missing ID");
